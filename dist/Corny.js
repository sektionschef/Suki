class Corny{constructor(){this.width=.25*SHORTSIDE,this.height=.25*SHORTSIDE,this.dotcCount=5e-4*TOTALPIXEL,this.diameter=2,this.colorBase=color(red(PALETTE.paper)-20,green(PALETTE.paper)-20,blue(PALETTE.paper)-20,alpha(PALETTE.paper)),this.colorDistort=10,this.xCount=Math.ceil(width/this.width),this.yCount=Math.ceil(height/this.height),this.buffer=createGraphics(this.width,this.height),this.masterBuffer=createGraphics(width,height),this.create(),this.createMasterBuffer()}create(){for(var t=0;t<this.dotcCount;t++)this.fillColor=distortColorSuperNew(this.colorBase,this.colorDistort),this.pos=createVector(getRandomFromInterval(0,this.width),getRandomFromInterval(0,this.height)),this.buffer.noStroke(),this.buffer.ellipseMode(CENTER),this.buffer.fill(this.fillColor),this.buffer.circle(this.pos.x,this.pos.y,this.diameter),this.pos.x+this.diameter>=this.width&&(this.pos.x-=this.width,this.buffer.circle(this.pos.x,this.pos.y,this.diameter)),this.pos.x-this.diameter<=0&&(this.pos.x+=this.width,this.buffer.circle(this.pos.x,this.pos.y,this.diameter)),this.pos.y+this.diameter>=this.height&&(this.pos.y-=this.height,this.buffer.circle(this.pos.x,this.pos.y,this.diameter)),this.pos.y-this.diameter<=0&&(this.pos.y+=this.height,this.buffer.circle(this.pos.x,this.pos.y,this.diameter))}createMasterBuffer(){for(var t=0;t<this.yCount;t++)for(var i=0;i<this.xCount;i++)this.masterBuffer.push(),this.masterBuffer.translate(i*this.buffer.width,t*this.buffer.height),this.masterBuffer.image(this.buffer,0,0),this.masterBuffer.pop()}show(){push(),image(this.masterBuffer,0,0),pop()}}