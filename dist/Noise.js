class Noise{constructor(){this.width=.15*SHORTSIDE,this.height=.15*SHORTSIDE,this.marginX=0,this.marginY=0,this.jCount=1,this.iCount=1,this.strokeWeight=25e-5*SHORTSIDE,this.buffer=createGraphics(this.width,this.height),this.masterBuffer=createGraphics(width,height),this.xCount=Math.ceil(width/this.buffer.width),this.yCount=Math.ceil(height/this.buffer.height),this.create(),this.createMasterBuffer()}create(){this.buffer.stroke(color("black"));for(var t=0;t<this.jCount;t++)for(var i=0;i<this.iCount;i++)for(var h=0;h<this.buffer.width-2*this.marginX;h++)for(var e=0;e<this.buffer.height-2*this.marginY;e++){var s=noise(.02*h,.02*e);if(random(1)>.9-.01*i-s/5){this.buffer.strokeWeight(this.strokeWeight);let t=createVector(this.marginX+h,this.marginY+e);this.buffer.point(t.x,t.y),t.x>this.buffer.width-this.strokeWeight&&(t.x-=this.buffer.width-this.strokeWeight,this.buffer.point(t.x,t.y)),t.y>this.buffer.height-this.strokeWeight&&(t.y-=this.buffer.height-this.strokeWeight,this.buffer.point(t.x,t.y))}}}createMasterBuffer(){for(var t=0;t<this.yCount;t++)for(var i=0;i<this.xCount;i++)this.masterBuffer.push(),this.masterBuffer.translate(i*this.buffer.width,t*this.buffer.height),this.masterBuffer.image(this.buffer,0,0),this.masterBuffer.pop()}show(){push(),blendMode(OVERLAY),image(this.masterBuffer,0,0),pop()}}